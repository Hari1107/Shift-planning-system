{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\harih\\\\Downloads\\\\Telegram Desktop\\\\Shift_Planning_System\\\\Shift_Planning_System\\\\src\\\\components\\\\Admin\\\\ShiftCreation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment-timezone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ShiftCreation() {\n  _s();\n  const [employees, setEmployees] = useState([]);\n  const [shift, setShift] = useState({\n    date: '',\n    startTime: '',\n    endTime: '',\n    timezone: '',\n    employeeId: ''\n  });\n  const [availableEmployees, setAvailableEmployees] = useState([]);\n  useEffect(() => {\n    fetchEmployees();\n  }, []);\n  const fetchEmployees = async () => {\n    try {\n      const response = await axios.get('/api/admin/employees');\n      setEmployees(response.data);\n    } catch (error) {\n      console.error('Error fetching employees:', error);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await axios.post('/api/admin/shifts', shift);\n      setShift({\n        date: '',\n        startTime: '',\n        endTime: '',\n        timezone: '',\n        employeeId: ''\n      });\n      setAvailableEmployees([]);\n      alert('Shift created successfully');\n    } catch (error) {\n      console.error('Error creating shift:', error);\n    }\n  };\n  const checkAvailability = async () => {\n    if (shift.date && shift.startTime && shift.endTime && shift.timezone) {\n      try {\n        const response = await axios.post('/api/admin/check-availability', {\n          date: shift.date,\n          startTime: shift.startTime,\n          endTime: shift.endTime,\n          timezone: shift.timezone\n        });\n        setAvailableEmployees(response.data);\n      } catch (error) {\n        console.error('Error checking availability:', error);\n      }\n    }\n  };\n  useEffect(() => {\n    checkAvailability();\n  }, [shift.date, shift.startTime, shift.endTime, shift.timezone]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Create Shift\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: shift.date,\n        onChange: e => setShift({\n          ...shift,\n          date: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"time\",\n        value: shift.startTime,\n        onChange: e => setShift({\n          ...shift,\n          startTime: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"time\",\n        value: shift.endTime,\n        onChange: e => setShift({\n          ...shift,\n          endTime: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: shift.timezone,\n        onChange: e => setShift({\n          ...shift,\n          timezone: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select timezone\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), moment.tz.names().map(tz => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: tz,\n          children: tz\n        }, tz, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), availableEmployees.length > 0 && /*#__PURE__*/_jsxDEV(\"select\", {\n        value: shift.employeeId,\n        onChange: e => setShift({\n          ...shift,\n          employeeId: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select an employee\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this), availableEmployees.map(employee => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: employee._id,\n          children: employee.name\n        }, employee._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !shift.employeeId,\n        children: \"Create Shift\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(ShiftCreation, \"HxVZU1m0evvHt7dmFMo6YLTNjtQ=\");\n_c = ShiftCreation;\nexport default ShiftCreation;\nvar _c;\n$RefreshReg$(_c, \"ShiftCreation\");","map":{"version":3,"names":["React","useState","useEffect","axios","moment","jsxDEV","_jsxDEV","ShiftCreation","_s","employees","setEmployees","shift","setShift","date","startTime","endTime","timezone","employeeId","availableEmployees","setAvailableEmployees","fetchEmployees","response","get","data","error","console","handleSubmit","e","preventDefault","post","alert","checkAvailability","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","tz","names","map","length","employee","_id","name","disabled","_c","$RefreshReg$"],"sources":["C:/Users/harih/Downloads/Telegram Desktop/Shift_Planning_System/Shift_Planning_System/src/components/Admin/ShiftCreation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport moment from 'moment-timezone';\r\n\r\nfunction ShiftCreation() {\r\n  const [employees, setEmployees] = useState([]);\r\n  const [shift, setShift] = useState({\r\n    date: '',\r\n    startTime: '',\r\n    endTime: '',\r\n    timezone: '',\r\n    employeeId: '',\r\n  });\r\n  const [availableEmployees, setAvailableEmployees] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, []);\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      const response = await axios.get('/api/admin/employees');\r\n      setEmployees(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching employees:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('/api/admin/shifts', shift);\r\n      setShift({ date: '', startTime: '', endTime: '', timezone: '', employeeId: '' });\r\n      setAvailableEmployees([]);\r\n      alert('Shift created successfully');\r\n    } catch (error) {\r\n      console.error('Error creating shift:', error);\r\n    }\r\n  };\r\n\r\n  const checkAvailability = async () => {\r\n    if (shift.date && shift.startTime && shift.endTime && shift.timezone) {\r\n      try {\r\n        const response = await axios.post('/api/admin/check-availability', {\r\n          date: shift.date,\r\n          startTime: shift.startTime,\r\n          endTime: shift.endTime,\r\n          timezone: shift.timezone,\r\n        });\r\n        setAvailableEmployees(response.data);\r\n      } catch (error) {\r\n        console.error('Error checking availability:', error);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkAvailability();\r\n  }, [shift.date, shift.startTime, shift.endTime, shift.timezone]);\r\n\r\n  return (\r\n    <div>\r\n      <h2>Create Shift</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"date\"\r\n          value={shift.date}\r\n          onChange={(e) => setShift({ ...shift, date: e.target.value })}\r\n        />\r\n        <input\r\n          type=\"time\"\r\n          value={shift.startTime}\r\n          onChange={(e) => setShift({ ...shift, startTime: e.target.value })}\r\n        />\r\n        <input\r\n          type=\"time\"\r\n          value={shift.endTime}\r\n          onChange={(e) => setShift({ ...shift, endTime: e.target.value })}\r\n        />\r\n        <select\r\n          value={shift.timezone}\r\n          onChange={(e) => setShift({ ...shift, timezone: e.target.value })}\r\n        >\r\n          <option value=\"\">Select timezone</option>\r\n          {moment.tz.names().map((tz) => (\r\n            <option key={tz} value={tz}>\r\n              {tz}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        \r\n        {availableEmployees.length > 0 && (\r\n          <select\r\n            value={shift.employeeId}\r\n            onChange={(e) => setShift({ ...shift, employeeId: e.target.value })}\r\n          >\r\n            <option value=\"\">Select an employee</option>\r\n            {availableEmployees.map((employee) => (\r\n              <option key={employee._id} value={employee._id}>\r\n                {employee.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n        \r\n        <button type=\"submit\" disabled={!shift.employeeId}>Create Shift</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShiftCreation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}